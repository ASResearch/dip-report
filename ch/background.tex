\section{背景}
本章主要介绍区块链激励机制和传统投票系统相关背景。鉴于目前尚无基于用户行为的DApp评价体系，我们进一步地介绍了相关设定。

\subsection{区块链激励机制}
%1. 比特币中激励机制的应用。
比特币作为区块链的太初应用，践行了其作为“一个去中心化电子现金系统”的初衷。比特币的产生不依赖于任何机构，而是根据特定算法，依靠大量计算产生，保证了比特币网络分布式记账系统的一致性。尽管比特币并不支持智能合约特性，但其本身已经具有完善的激励机制。比特币的去中心化一方面是依赖于技术手段，另一部分则是通过巧妙的激励设置来实现，后者已成为广义上共识机制的重要组成部分。

比特币对新挖出区块的矿工的奖励本质上就是一种激励机制。它包括两个方面，对矿工的固定奖励（每4年减半，目前为12.5BTC）以及区块打包所有交易的交易费（transaction fee）。值得一提的是，有关研究指出当固定奖励变得足够小时，光靠交易费无法维持比特币共识算法的稳定性，因为矿工将拥有更多的手段进行进攻同时获利\cite{carlsten2016instability}。这说明适当的通货膨胀是对整个生态是有利的，也为星云每年增发适量的NAS用于生态开发提供了依据。

作为区块链2.0的代表，以太坊突破性地提供了图灵完备的智能合约，从而大幅拓展了应用场景。智能合约本质上是一个被代码控制的账户（smart contract account），而基于智能合约可以实现功能复杂的应用则称之为去中心化应用（decentralized application，DApp）。从技术架构来看，现有的大部分DApp通常以链上智能合约作为后端SPA，同时采用了常用的前端技术与之交互，因而DApp形态即可以是传统PC客户端也可以是移动App或者Web形式。

目前以太坊上已经拥有一定数量的DApp，涵盖了游戏、博彩、众筹、借贷等众多类型，其中以2017年底的以太猫（CryptoKitties）和2018年中的Fomo3D\cite{Fomo3D}最为出名，两者一度引发了以太坊网络交易拥塞。实际上，大量DApp正如同前两者一样，本质上都是充斥着氪金交易或者资金盘的商人游戏，而真正具有应用场景的杀手级DApp目前仍未出现\cite{Nabulasyellowpaper}。

本质上来说，这是由于价值尺度的缺失所导致，在缺少客观的评价标准下，开发者亦没有开发优秀DApp的动机。一般情况下，开发者除了兴趣支撑外，主要获利手段为在智能合约中写入用户调用需要支付费用，或者DApp本身具有获利属性。


%并且在区块链场景下，任何中心化的

%然而整个以太坊系统中并不存在一个对开发者的激励协议。DApp

因此，针对开发者的激励机制将有望打破当前困境从而彰显重要性。在星云链开展的激励计划中，总共产生了超过6781个DApp，并且大量优秀开发团队得以走向前台并获得高额投资\cite{Nabulasincentive}。其他类似公链也随之效仿推出了短期的基于中心化管理的激励活动，此类激励活动以对社区进行宣传为主要目的，在这类活动中官方主观评价占据主导因素，并且缺乏长期持续性。

		DApp
\subsection{投票制度相关}
因为在我们的DApp排名算法中起主要作用的是用户和DApp的交互，故其本质上可以看做一个用户给DApp投票的过程。关于投票系统各个领域已有大量的相关工作。其中最著名的结果是所谓的Arrow定理\cite{arrow1951extension}。其指出不存在任何一个排名算法能够同时满足非独裁性，帕累托有效性（Pareto Efficiency， 即排名结果符合大多数人的利益）以及无关侯选者独立性（Independent of irrelevant alternatives，即两个候选者的排名相对关系不会受第三者影响）。这说明任何排名算法都不可能面面俱到。我们的排名算法将更多的侧重于重要程度较高的以及广为人知的属性。

在现实生活中也有大量需要用到排名算法的场景。其中一个典型和我们类似的例子为亚马逊以及淘宝平台中买家对卖家（商户）的评分。好评率较高的商户将被推荐系统排在靠前的位置从而获得较高的关注度。特别的，这类电商平台存在着和女巫攻击类似的问题，即刷单问题：商户可以以各种手段雇佣大量买家账号为其给五星好评。就目前而言，即便是此类中心化平台方刷单的手段大部分为通过机器学习手段判断真实用户和虚假用户\cite{mukherjee2013spotting,jindal2008opinion,yoo2009comparison}。然而实际表明此类方法效果并不理想。\cite{ott2011finding}指出甚至人工识别都不能有效判别此类账户。\cite{cai2016mechanism}从机制设计的角度给出了一个消除商户刷单动机的算法，虽然和我们的模型不同但具有一定的借鉴意义。

其他场景下的排名算法：

\cite{salihefendic2010hacker}介绍了网络社区给帖子排名的算法，结合了用户的投票数以及随时间衰减的过程。\cite{salihefendic2010reddit}介绍了Reddit上帖子的牌名算法，引入了考虑了用户可以投反对票的情形。\cite{miller2009how}介绍了Reddit关于评论的排名算法，将置信区间考虑了进去。IMDB\cite{IMDB}上对电影的排名引入了贝叶斯平均的思想，可以拉近不同电影之间投票人数的差异。

在我们的设计中，得益于星云指数\cite{Nabulasyellowpaper}的高抗作弊性，反而能够更加清晰的判别真实用户与虚假用户。故我们设计的重点在于将用户的NR值通过交互行为转移到DApp的评分上来。



\subsection{DApp调用相关}
\label{subsec:2.3}
在星云的DApp开发生态中，每个用户具有一个NR值，他可以调用（一个或多个）DApp，每次调用用户会消耗一定的gas费用用于执行智能合约。gas费用最终将支付给矿工。同时，根据智能合约性质的不同，用户有可能会直接支付一定数量的nas给智能合约地址，最终由DApp开发者获得。星云团队（{\color{red}多少钱?}）会支付最高xx nas用于奖励优秀DApp开发者，其中参与评选活跃用户越多（根据NR来判断）奖励总额越高。

这里我们需要说明的是，用户每次调用所花费的gas费用以及向合约地址支付的费用不会被排名算法考虑进去，即用户支付更多的钱无法提高其投票效用。前者是因为在星云系统中gas费用平均只有$10^{-8}$nas这个级别，完全可以忽略不计。

而不考虑后者的原因在于有效防作弊手段的缺失。咋看之下，用户愿意支付一笔钱给DApp确实能提高该DApp的被认同度，但实际情况下，这笔钱的最终流向存在以下三种可能。

1.这笔钱最终归DApp开发者所有。这种情况可以认为用户自愿付出这些钱给DApp，值得提高该DApp排名。但此时DApp开发者相当于已经从中获取了调用费用，再提高其排名的意义降低。

2.DApp开发者承诺所有为其投入的钱最终会返还到用户手里。这本质上是一种作弊手段，而据此提高DApp排名将会助长此种作弊手段。

3.DApp本身是赌博类游戏，与用户之间存在大量资金交互。这本身是一种诚实的应用，但此时用户与DApp的资金交互主要在于用户希望通过赌博赚钱。所以用户乐于支持DApp的钱可能为0，不应据此提高DApp排名。

介于目前我们无法判断用户和智能合约地址的资金交互属于上述哪一种情况，且上述任何一种情况都存在不介入排名的理由，故我们最终的算法也将独立于用户和DApp间的资金交互。
