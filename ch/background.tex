\section{背景介绍}
\label{sec:back_ground}
本文提出的开发者激励协议，参考了诸多前人的工作，也在我们之前的工作的基础上，做了一定的延伸，此处，给出相关工作，这些研究工作对本文的工作具有重要的参考和指导作用。

\subsection{DApp开发者激励}
据我们所知，目前，各个基于区块链的去中心化应用平台并未提供任何长效的DApp开发者激励机制。
作为区块链2.0的代表，以太坊突破性地提供了图灵完备的智能合约，其上已经拥有一定数量的DApp，涵盖了游戏、博彩、众筹、借贷等众多类型，
其中以2017年底的以太猫（CryptoKitties）和2018年中的Fomo3D~\cite{Fomo3D}最为出名，两者一度引发了以太坊网络交易拥塞。
实际上，大量DApp正如同前两者一样，只能通过向用户收取费用而获利，并不能从以太坊市值的增长或以太坊的挖矿奖励中获利。

在DApp开发者激励缺失的情况下，DApp的应用场景亦受到了一定程度的影响。例如，潜在的、免费的DApp会由于难以收到相应的回报而流产，从而导致DApp的数量、质量以及多样性等各个方面受到影响；相对的，
公平的、有效的DApp开发者激励机制，可以使得开发者能够专注于DApp的开发，进一步促进整个区块链生态的繁荣、可持续发展。

一定程度上，各个新兴的区块链系统认识到了激励机制对于构建区块链生态的必要性。例如，在星云链开展的激励计划中，总共产生了超过6781个DApp，并且大量优秀开发团队得以走向前台并获得高额投资~\cite{Nebulasincentive}。
其他类似公链也随之效仿推出了短期的基于中心化管理的激励活动，此类激励活动以对社区进行宣传为主要目的，在这类活动中官方主观评价占据主导因素，并且缺乏长期持续性。

\subsection{星云指数}
星云指数（Nebulas Rank，NR）~\cite{Nebulasyellowpaper}给出了每个账户对经济总量的贡献度，具有良好的抗操纵性。特别地，星云指数给出了Wilbur函数，具有以下两个性质
\begin{property}
\label{prop:one}
对于任意大于$0$的两个输入变量$x_1$，$x_2$，其计算函数之和小于其和的计算函数。
%对于任意输入$x$，将其拆分后的计算函数之和小于原计算函数。
\end{property}
\begin{align}
f(x_1+x_2)>f(x_1)+f(x_2) \quad x_1>0,x_2>0
\end{align}

\begin{property}
\label{prop:two}
当任意大于$0$的两个输入变量$x_1$，$x_2$趋近于无穷大时，其计算函数之和趋近于其和的计算函数。
\end{property}
\begin{align}
\lim\limits_{x_1 \to \infty, x_2\to \infty} f(x_1+x_2) = f(x_1) + f(x_2)\quad x_1>0, x_2>0
\end{align}

\noindent 上述两个性质作为星云指数的基础，同样为开发者激励协议提供了良好的抗操纵性。

\subsection{投票机制}
如前所述，在开发者激励协议中，用户使用DApp的过程，可以看做一个用户给DApp投票的过程，其后的激励机制则类似排名算法，
关于投票系统及排名算法，各个领域已有大量的相关工作，因此我们参考了相关的工作。
其中最著名的结果是所谓的Arrow定理~\cite{arrow1951extension}。其指出不存在任何一个排名算法能够同时满足非独裁性，帕累托有效性（Pareto Efficiency， 即排名结果符合大多数人的利益）
以及无关侯选者独立性（Independent of irrelevant alternatives，即两个候选者的排名相对关系不会受第三者影响）。
这说明任何排名算法都不可能面面俱到。本文的开发者激励协议将更多的侧重于重要程度较高的以及广为人知的属性。

在现实生活中存在大量需要用到排名算法的场景。
其中一个典型的、和本文类似的例子为亚马逊以及淘宝平台中买家对卖家（商户）的评分。好评率较高的商户将被推荐系统排在靠前的位置从而获得较高的关注度。
特别的，这类电商平台存在着和女巫攻击类似的问题，即刷单问题：商户可以以各种手段雇佣大量买家账号为其给五星好评。
就目前而言，即便是此类中心化平台方刷单的手段大部分为通过机器学习手段判断真实用户和虚假用户~\cite{mukherjee2013spotting,jindal2008opinion,yoo2009comparison}。
然而实际表明此类方法效果并不理想。~\cite{ott2011finding}指出甚至人工识别都不能有效判别此类账户。
~\cite{cai2016mechanism}从机制设计的角度给出了一个消除商户刷单动机的算法，虽然和本文的模型不同但具有一定的借鉴意义。


~\cite{salihefendic2010hacker}介绍了网络社区给帖子排名的算法，结合了用户的投票数以及随时间衰减的过程。
~\cite{salihefendic2010reddit}介绍了Reddit上帖子的牌名算法，引入了考虑了用户可以投反对票的情形。
~\cite{miller2009how}介绍了Reddit关于评论的排名算法，将置信区间考虑了进去。IMDB~\cite{IMDB}上对电影的排名引入了贝叶斯平均的思想，可以拉近不同电影之间投票人数的差异。

在本文设计的用户激励协议中，得益于星云指数的抗作弊性，反而能够更加清晰的判别真实用户与虚假用户。故本文设计的重点在于将用户的NR值通过交互行为转移到DApp的评分上来。



\begin{comment}
\subsection{DApp调用相关}
\label{subsec:2.3}
在星云的DApp开发生态中，每个用户具有一个NR值，他可以调用（一个或多个）DApp，每次调用用户会消耗一定的gas费用用于执行智能合约。gas费用最终将支付给矿工。同时，根据智能合约性质的不同，用户有可能会直接支付一定数量的nas给智能合约地址，最终由DApp开发者获得。星云团队（{\color{red}多少钱?}）会支付最高xx nas用于奖励优秀DApp开发者，其中参与评选活跃用户越多（根据NR来判断）奖励总额越高。

这里我们需要说明的是，用户每次调用所花费的gas费用以及向合约地址支付的费用不会被排名算法考虑进去，即用户支付更多的钱无法提高其投票效用。前者是因为在星云系统中gas费用平均只有$10^{-8}$nas这个级别，完全可以忽略不计。

而不考虑后者的原因在于有效防作弊手段的缺失。咋看之下，用户愿意支付一笔钱给DApp确实能提高该DApp的被认同度，但实际情况下，这笔钱的最终流向存在以下三种可能。

1.这笔钱最终归DApp开发者所有。这种情况可以认为用户自愿付出这些钱给DApp，值得提高该DApp排名。但此时DApp开发者相当于已经从中获取了调用费用，再提高其排名的意义降低。

2.DApp开发者承诺所有为其投入的钱最终会返还到用户手里。这本质上是一种作弊手段，而据此提高DApp排名将会助长此种作弊手段。

3.DApp本身是赌博类游戏，与用户之间存在大量资金交互。这本身是一种诚实的应用，但此时用户与DApp的资金交互主要在于用户希望通过赌博赚钱。所以用户乐于支持DApp的钱可能为0，不应据此提高DApp排名。

介于目前我们无法判断用户和智能合约地址的资金交互属于上述哪一种情况，且上述任何一种情况都存在不介入排名的理由，故我们最终的算法也将独立于用户和DApp间的资金交互。

\end{comment}
